extends layout

block content
  .client(data-bind='css: themeClasses')
    .wrapper
      include includes/preferences-pane
      .terminal
        .screen(data-bind='foreach: lines, click: focusInput')
          div(data-bind='html: $data')
        .command
          i.icon-off(data-bind='click: toggleConnection, css: connectionStatus')
          i.icon-wrench(data-bind='click: togglePreferencesPane')
          form(data-bind='submit: sendCommand')
            span.prompt(data-bind='html: promptFormatted')
            input(type='text', autofocus=true, data-bind="value: command, event: {keydown: recall}")
      include includes/modal

block script
  :coffeescript
    # on dom ready, create the view model
    $ ->
      window.view = new ClientView $('body'), $('.client'), $('.screen'), $('.command input')